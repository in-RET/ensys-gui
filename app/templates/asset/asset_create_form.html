{% load i18n %}
{% load crispy_forms_tags %}
{% load custom_filters %}



  <!--div-- class="modal-body">
    {% for field in form %}
    <div class="form-group{% if field.errors %} invalid{% endif %}">
      {{ field|as_crispy_field }} 
      {% for error in field.errors %}
      <p class="help-block">{{ error }}</p>
      {% endfor %}

      {% if field.name == "input_timeseries" %}
        <div id="timeseries_trace"></div>

        {% if input_timeseries_timestamps %}
          <div id="input_timeseries_timestamps" style="display:none;">
            <textarea>{{ input_timeseries_timestamps }}</textarea>
          </div>
        {% endif %}

      {% endif %}
      {% if field.name == "input_timeseries" and input_timeseries_data %}
        <div>
          <a data-bs-toggle="collapse" href="#input_timeseries_data">{% translate "uploaded data" %}</a>
        </div>
        <div id="input_timeseries_data" class="collapse">
          <textarea>{{input_timeseries_data}}</textarea>
        </div>

      {% endif %}

    </div>
    {% endfor %}
  </div-->

<div class="form-group{% if field.errors %} invalid{% endif %}">
  {{ form.name|as_crispy_field }}
</div>

<div class="container">
  <div class="row align-items-start">
    {% if form|has_economical_parameters %}
      <div class="col">
      <h3>Economical parameters</h3>
      {% for field in form %}
      {% if field.name|is_economical_parameter %}
      <div class="form-group{% if field.errors %} invalid{% endif %}">
        {{ field|as_crispy_field }}

      </div>
      {% endif %}
    {% endfor %}
    </div>
    {% endif %}
    {% if form|has_technical_parameters %}
      <div class="col">
      <h3>Technical parameters</h3>
        {% for field in form %}
          {% if field.name|is_technical_parameter %}
            {% if field.name != "input_timeseries" %}
              <div class="form-group{% if field.errors %} invalid{% endif %}">
                {{ field|as_crispy_field }}
              </div>
            {% endif %}
          {% endif %}
        {% endfor %}


    </div>
    {% endif %}
  </div>
  <div class="row">
    {% if form|has_field:"input_timeseries" %}
      <div class="form-group{% if field.errors %} invalid{% endif %}">
            {{ form|get_field:"input_timeseries"|as_crispy_field }}
      </div>

      <div id="timeseries_trace"></div>

      {% if input_timeseries_timestamps %}
        <div id="input_timeseries_timestamps" style="display:none;">
          <textarea>{{ input_timeseries_timestamps }}</textarea>
        </div>
      {% endif %}

      {% if input_timeseries_data %}
        <div>
          <a data-bs-toggle="collapse" href="#input_timeseries_data">{% translate "uploaded data" %}</a>
        </div>
        <div id="input_timeseries_data" class="collapse">
          <textarea>{{input_timeseries_data}}</textarea>
        </div>
      {% endif %}

    {% endif %}
  </div>

</div>

